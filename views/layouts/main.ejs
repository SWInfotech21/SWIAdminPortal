<!doctype html>
<html>

<head>
    <script src="dmxAppConnect/dmxAppConnect.js"></script>
    <script src="js/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.25.1/moment.min.js"></script>
    <script src="dmxAppConnect/dmxCharts/Chart.min.js" defer=""></script>

    <script src="dmxAppConnect/dmxCharts/dmxCharts.js" defer=""></script>

    <link rel="stylesheet" href="dmxAppConnect/dmxDatePicker/daterangepicker.min.css" />



    <script src="dmxAppConnect/dmxDatePicker/daterangepicker.min.js" defer=""></script>

    <link rel="stylesheet" href="dmxAppConnect/dmxDatePicker/dmxDatePicker.css" />

    <script src="dmxAppConnect/dmxDatePicker/dmxDatePicker.js" defer=""></script>



    <script src="socket.io/socket.io.js"></script>

    <script src="dmxAppConnect/dmxSockets/dmxSockets.js" defer=""></script>



    <script src="dmxAppConnect/dmxBootstrap5PagingGenerator/dmxBootstrap5PagingGenerator.js" defer=""></script>



    <script src="dmxAppConnect/dmxStateManagement/dmxStateManagement.js" defer=""></script>




    <script src="dmxAppConnect/dmxNotifications/dmxNotifications.js" defer=""></script>

    <link rel="stylesheet" href="dmxAppConnect/dmxValidator/dmxValidator.css" />

    <script src="dmxAppConnect/dmxValidator/dmxValidator.js" defer=""></script>

    <script src="dmxAppConnect/dmxBrowser/dmxBrowser.js" defer=""></script>

    <script src="dmxAppConnect/dmxDataTraversal/dmxDataTraversal.js" defer=""></script>

    <script src="dmxAppConnect/dmxFormatter/dmxFormatter.js" defer=""></script>

    <link rel="stylesheet" href="dmxAppConnect/dmxBootstrap5TableGenerator/dmxBootstrap5TableGenerator.css" />



    <script src="dmxAppConnect/dmxSwiper/dmxSwiper.js" defer=""></script>

    <script src="dmxAppConnect/dmxSwiper/swiper.min.js" defer=""></script>

    <link rel="stylesheet" href="dmxAppConnect/dmxSwiper/themes/default.css" />

    <link rel="stylesheet" href="fontawesome5/css/all.min.css" />

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous" />

    <link rel="stylesheet" href="css/bootstrap-icons.css" />



    <script src="dmxAppConnect/dmxRouting/dmxRouting.js" defer=""></script>

    <script src="dmxAppConnect/dmxBootstrap5Navigation/dmxBootstrap5Navigation.js" defer=""></script>

    <script src="dmxAppConnect/dmxBootstrap5Modal/dmxBootstrap5Modal.js" defer=""></script>

    <link rel="stylesheet" href="dmxAppConnect/dmxNotifications/dmxNotifications.css" />
    <dmx-serverconnect id="scLogout" url="api/Users/logout" noload dmx-on:success="browserMain.goto('login')"></dmx-serverconnect>
    <dmx-datetime id="varDateTime"></dmx-datetime>

    <base href="/">

    <meta charset="UTF-8">
    <title>Admin Panel</title>
    <dmx-serverconnect id="scAdminBalance" url="api/Transactions/FetchAdminBalance" dmx-on:unauthorized="browserMain.goto('/login')" dmx-on:forbidden="browserMain.goto('/login')" dmx-on:invalid="browserMain.goto('/login')" dmx-on:error="browserMain.goto('/login')"></dmx-serverconnect>
    <dmx-serverconnect id="scMobRech" url="api/RechargeAPI/RechargeAPI"></dmx-serverconnect>
    <dmx-serverconnect id="scOperator" url="api/operator/OperatorsFetch" noload></dmx-serverconnect>
    <dmx-serverconnect id="scAPIBalance" url="api/APIS/GetAPIBalance"></dmx-serverconnect>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="bootstrap/5/css/bootstrap.min.css" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous" />
    <link rel="stylesheet" type="text/css" href="./css/style.css" />

    <!-- custom navbar & footer -->
    <link rel="stylesheet" type="text/css" href="./assets/css/styles.min.css" />
    <link rel="stylesheet" type="text/css" href="./assets/css/style.css" />
    <link id="ctl00_style_color" rel="stylesheet" type="text/css" href="./assets/css/blue1.css" />
    <!-- custom navbar & footer -->
    <style>
        .form-check-input {
            background-color: red;
            border-color: red;
            padding-bottom: 1.7rem;
            padding-left: 4rem;
            position: relative;
        }

        .form-check-input:after {
            position: absolute;
            left: 50%;
            top: 5%;
            content: "off";
            color: white;
            font-size: .9rem;
        }

        .form-check-input:checked {
            background-color: green;
            border-color: green;
        }

        .form-check-input:checked:after {
            left: 20%;
            content: "on";
        }

        .form-switch .form-check-input {
            background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='-4 -4 8 8'%3e%3ccircle r='3' fill='white'/%3e%3c/svg%3e");
            border-radius: .2em;
        }

        .form-switch .form-check-input:focus {
            background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='-4 -4 8 8'%3e%3ccircle r='3' fill='white'/%3e%3c/svg%3e");
            -moz-box-shadow: none !important;
            -webkit-box-shadow: none !important;
            box-shadow: none !important;
        }
    </style>
</head>

<body is="dmx-app" id="main">
    <div is="dmx-browser" id="browserMain"></div>
    <dmx-notifications id="scNotif" newest-on-top="true" timeout="10000">
    </dmx-notifications>
    <dmx-datetime id="dateNow" interval="days"></dmx-datetime>
    <div is="dmx-view" id="content">
        <header>
            <div class="text-white bg-primary" style="border-radius: 100px 0px 100px 0px;">
                <div class="row py-3 mx-0">
                    <h4 class="text-center h4 col-12">SWPAY.IN-Admin</h4>
                    <div class="col-2 align-self-center text-center"><img src="assets/images/swinfotech.png" id="logo_img" width="70px" height="70px" /></div>
                    <div class="col-7 row">
                        <p class="m-0 col-12 col-md-6"><b>Pending Recharge:</b> 0</p>
                        <p class="m-0 col-12 col-md-6"><b>Payment Request:</b> 0</p>
                        <p class="m-0 col-12 col-md-6"><b>Tikets:</b>0</p>
                        <p class="m-0 col-12 col-md-6"><b>Bank Withdrawal Request:</b>0</p>
                    </div>
                    <div class="col-3">
                        <p class="m-0"><b>Logged in site as:</b><span>{{scAdminBalance.data.query.user_fname}}</span></p>
                        <p class="m-0"><b>Balance:</b><span id="lblBalance">&emsp;{{scAdminBalance.data.query.balance_amt.toNumber().toFixed(3)}}</span></p>
                        <p class="m-0"><b>AEPS Balance:</b><span>&emsp;{{scAdminBalance.data.query.aeps_balance.toNumber().toFixed(3)}}</span></p>
                        <p class="m-0"><b>API Balance:</b><span id="">&emsp;{{scAPIBalance.data.GetAPIBalance.Wallet.main}}</span></p><a class="button red tip-left small" href="#" dmx-on:click="scLogout.load()" title="Click Here to Logout">
                            <i class="fa fa-sign-out" aria-hidden="true"></i>
                            <span class="sd-fw-500" style="font-weight:bold;">Log Out</span>
                        </a>
                    </div>
                </div>
            </div>
        </header>

        <!-- Custom Navbar Starts-->
        <section id="layout">
            <!-- <div class="logo_profile container_12 bg-warning mx-0">
                <div class="grid_3 logo_img" style="margin-bottom:10px; height:60px; overflow:hidden; margin-top:15px;"> <img src="assets/images/swinfotech.png" id="ctl00_logo_img" width="70px" height="70px" /> </div>
                <div class="grid_6 logo_img" style="margin-bottom:10px;width:500px; height:80px; overflow:hidden; margin-top:15px;">
                    Payment Request:<span>0</span><br />Bank Withdrawal Request:<span>0</span>
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Pending
                    Recharge:<span id="ctl00_lbltotalrecharge">2</span><br />
                    Tikets:<span id="ctl00_lbltotaltikets">2</span><br />
                    Time:<span id="ctl00_lblKYC">{{varDateTime.datetime.formatDate('MM/dd/yyyy hh:mm:ss')}}</span><br />

                </div>
                <div class="grid_6 profile_meta" style="width:auto; height:auto; float:right;">
                    <div class="user_meta" style="margin-top:20px;background-color:#ffffff">
                        <div class="name" stylealign="center"> <a class="tip-left" title=""><span style="font-size:14px; font-weight:bold;"> <span style="color:#FB4E55;">Logged in as Site Admin</span> -
                                    <span id="ctl00_lblName">{{scAdminBalance.data.query.user_fname}}</span></span> </a> <br />
                            <b>Balance:</b><span>&emsp;{{scAdminBalance.data.query.balance_amt.toNumber().toFixed(3)}}</span><br />
                            <b>AEPS Balance:</b><span id="ctl00_lblAEPSBalance">&emsp;{{scAdminBalance.data.query.aeps_balance.toNumber().toFixed(3)}}</span><br /><b>API Balance:</b><span id="">&emsp;{{scAPIBalance.data.GetAPIBalance.Wallet.main}}</span><br />
                            <div><a class="button red tip-left small" href="#" dmx-on:click="scLogout.load()" title="Click Here to Logout">
                                    <i class="fa fa-sign-out" aria-hidden="true"></i>
                                    <span class="sd-fw-500" style="font-weight:bold;">Log Out</span>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="clear"></div>
            </div> -->
            <section id="top">
                <section id="top_bar">
                    <section id="main_menu">
                        <ul id="meenu">

                            <li><a class="sf-with-ul" href="dashboard">Dashboard</a>
                            </li>
                            <li dmx-show="scAdminBalance.data.query.user_type == 0"><a class="sf-with-ul" href="javascript:void(0)">Master&emsp;<i class="fas fa-angle-down"></i></a>
                                <ul>
                                    <li><a href="send-sms">Send SMS</a></li>
                                    <li><a href="scheme-commision-set">Slab/Commission</a></li>
                                    <li><a href="op-api-code-update">Operator Update</a></li>
                                    <li><a href="api-forward">API Forwarding</a></li>
                                    <li><a href="api-add-update">API Setting</a></li>
                                    <!-- <li><a href="scheme-priority">Scheme Priority</a></li> -->
                                    <li><a href="scheme">Slab</a></li>
                                    <li><a href="operators">Operator</a></li>
                                    <li><a href="services">Services</a></li>
                                    <li><a href="bank-admin">Admin Bank</a></li>
                                </ul>
                            </li>
                            <li dmx-show="scAdminBalance.data.query.user_type == 0"><a class="sf-with-ul" href="#">Wallet&emsp;<i class="fas fa-angle-down"></i></a>
                                <ul>
                                    <li><a href="wallet-debit">Debit</a></li>
                                    <li><a href="wallet-credits">Credit</a></li>
                                </ul>
                            </li>
                            <li id="ctl00_liSubAc"><a class="sf-with-ul" href="javascript:void(0)">Customers&emsp;<i class="fas fa-angle-down"></i></a>
                                <ul>
                                    <li dmx-show="scAdminBalance.data.query.user_type == 0"><a href="add-user">Add User</a></li>
                                    <li><a href="users">View Users</a></li>

                                    <li><a href="#">KYC User</a></li>
                                    <li dmx-show="scAdminBalance.data.query.user_type == 0"><a href="#" class="sf-with-ul">API User<i class="fas fa-angle-right float-end"></i></a>
                                        <ul>
                                            <li><a href="add-api-user">Add</a></li>
                                            <li><a href="view-api-users">View</a></li>
                                        </ul>
                                    </li>
                                    <li dmx-show="scAdminBalance.data.query.user_type == 0"><a href="#" class="sf-with-ul">CC<i class="fas fa-angle-right float-end"></i></a>
                                        <ul>
                                            <li><a href="add-cc">Add</a></li>
                                            <li><a href="view-cc">View</a></li>
                                        </ul>
                                    </li>

                                </ul>
                            </li>
                            <li id="ctl00_liReport"><a class="sf-with-ul" href="javascript:void(0)">Reports&emsp;<i class="fas fa-angle-down"></i></a>
                                <ul>
                                    <li><a href="pending-recharge">Pending Transactions</a></li>
                                    <li><a href="recharge-history">Transaction Report</a></li>
                                    <li><a href="account-summary-report">Account Summary</a></li>
                                    <li><a href="balance-report">Balance Report</a></li>
                                    <li><a href="api-sales-report">API Sales Report</a></li>
                                    <li><a href="sms-report">SMS Report</a></li>
                                </ul>
                            </li>
                            <li><a href="javascript:void(0)" class="sf-with-ul">My Account&emsp;<i class="fas fa-angle-down"></i></a>
                                <ul>
                                    <li><a href="my-profile">Profile</a></li>
                                    <li><a href="security-update">Change Password/TPIN</a></li>
                                    <li><a href="login-history">Login Details</a></li>
                                </ul>
                            </li>
                            <li dmx-show="scAdminBalance.data.query.user_type == 0"><a class="sf-with-ul" href="#">Support Center&emsp;<i class="fas fa-angle-down"></i></a>
                                <ul>
                                    <li><a href="#">Browse Tickets</a></li>
                                    <li><a href="#">Payment Requests</a></li>
                                    <li><a href="#">Request Response</a></li>
                                    <li><a href="#">API Request Response</a></li>
                                </ul>
                            </li>
                            <li><a class="sf-with-ul" href="#">Search<span class="sf-sub-indicator"> »</span></a>

                            </li>
                        </ul>
                        <div class="clear"></div>
                    </section>

                </section>

            </section>
            <!-- End of #top_bar -->
            <div class="clear"></div>
            <section class="top_in">



                <!-- End of #second_top_bar -->
            </section>
            <!-- End of .top_in -->

        </section>


        <!-- Modal Mobile recharge -->
        <div class="modal fade" id="modalMobRech" is="dmx-bs5-modal" tabindex="-1" nokeyboard="true" nocloseonclick="true">
            <div class="modal-dialog modal-dialog-centered" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title">Mobile Recharge</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <form is="dmx-serverconnect-form" id="formMobRech" method="post" action="api/RechargeAPI/MobileRecharge" dmx-generator="bootstrap5" dmx-form-type="horizontal" dmx-on:success="formMobRech.data.MobileRecharge ? scNotif.success('Recharge Success') : scNotif.warning('API hitted, but pending'); modalMobRech.hide();scMobRech.load({})" dmx-on:error="scNotif.danger('An error occurred'); modalMobRech.hide();">
                            <!-- <input type="hidden" name="MobRechId" dmx-bind:value="ddMobRech.data.id"> -->
                            <div class="mb-3 row">
                                <label for="inp_mobile" class="col-sm-2 col-form-label">Mobile</label>
                                <div class="col-sm-10">
                                    <input type="number" class="form-control" id="inp_MobRech" name="MobRech" aria-describedby="inp_MobRech_help" placeholder="Enter mobile bo be recharged" maxlength="10" required="" data-msg-required="Mobile id is required." data-rule-number="">
                                </div>
                            </div>
                            <div class="mb-3 row">
                                <label for="inp_name" class="col-sm-2 col-form-label">Operator</label>
                                <div class="col-sm-10">
                                    <select type="text" class="form-control" id="inp_opname" name="op_code" aria-describedby="inp_opname_help" placeholder="Enter Operator Name" maxlength="50" data-msg-required="Operator Name is required." dmx-on:click="scOperator.load({})" dmx-bind:options="scOperator.data.OperatorFetch.data" optiontext="operator_name" optionvalue="op_id">
                                        <option value="">Select</option>

                                    </select>
                                </div>
                            </div>
                            <div class="mb-3 row">
                                <label for="inp_amount" class="col-sm-2 col-form-label">Amount</label>
                                <div class="col-sm-10">
                                    <input type="number" class="form-control" id="inp_amt" name="MobRechAmount" aria-describedby="inp_amount_help" placeholder="Enter Amount" maxlength="50">
                                </div>
                            </div>
                            <div class="mb-3 row">
                                <div class="col-sm-2">&nbsp;</div>
                                <div class="col-sm-10">
                                    <button type="submit" class="btn btn-primary" dmx-bind:disabled="state.executing">Submit<span class="spinner-border spinner-border-sm" role="status" dmx-show="state.executing"></span></button>
                                </div>
                            </div>
                        </form>

                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                    </div>
                </div>
            </div>
        </div>
        <%- await include(content, locals); %>




    </div>
    <script src="bootstrap/5/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>


    <div class="clear"></div>
    <div class="tst" style="display: none; max-width: 85%; max-height: 90%;"></div>
    <section class="footer_bar">
        <div class="copyr"> <span class="ctl00_cpRight">Copyright @ 2021 SWInfotech.in</span></div>
    </section>
</body>

</html>